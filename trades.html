<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI MARKETING | Trade</title>

<style>
html{scroll-behavior:smooth}
:root{
--bg:#0b1020;--panel:#101a33;--text:#e8ecff;--muted:#b8c0e6;
--brand:#7c5cff;--brand2:#22d3ee;--border:rgba(255,255,255,.12);
--shadow:0 20px 60px rgba(0,0,0,.45);
--ok:#22c55e;--bad:#ef4444;
}
*{box-sizing:border-box}
body{
margin:0;
padding-top:80px;
padding-bottom:80px;
font-family:system-ui;
background:
radial-gradient(1200px 600px at 80% -10%, rgba(124,92,255,.35), transparent 55%),
radial-gradient(1000px 600px at 20% 10%, rgba(34,211,238,.22), transparent 55%),
#0b1020;
color:#fff;
}

/* HEADER */
header{
position:fixed;top:0;left:0;right:0;z-index:100;
background:rgba(11,16,32,.85);
backdrop-filter:blur(10px);
border-bottom:1px solid var(--border);
}
.nav{
max-width:1100px;margin:auto;padding:14px 18px;
display:flex;justify-content:space-between;align-items:center;
}
.brand{display:flex;gap:10px;font-weight:900;text-decoration:none;color:#fff}
.logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#7c5cff,#22d3ee);}
.menuBtn{font-size:22px;background:none;border:none;color:#fff;cursor:pointer}

/* MOBILE MENU */
.mobileMenu{
position:fixed;top:0;left:-100%;width:80%;height:100%;
background:#0e1730;z-index:200;padding:20px;transition:.3s;
}
.mobileMenu a{display:block;padding:14px;border-bottom:1px solid var(--border);color:#fff;text-decoration:none;font-weight:800}
.mobileMenu.show{left:0}

/* CONTENT */
.container{
max-width:1100px;
margin:auto;
padding:16px;
display:grid;
grid-template-columns:1.2fr .8fr;
gap:14px;
}
.card{
background:linear-gradient(180deg, rgba(16,26,51,.95), rgba(14,23,48,.92));
border:1px solid var(--border);
border-radius:16px;
box-shadow:var(--shadow);
padding:16px;
overflow:hidden;
}

h1{margin:0;font-size:18px}
.sub{color:var(--muted);font-size:13px}
.pill{font-size:12px;font-weight:900;padding:6px 10px;border-radius:999px;border:1px solid var(--border)}

.tvbox{border:1px solid var(--border);border-radius:16px;overflow:hidden;background:rgba(0,0,0,.2)}
.tvhead{padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between}
.tvH1{height:300px}

label{font-weight:900;font-size:13px}
.field{width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);background:#0b1020;color:#fff}
.btn{padding:12px;border-radius:12px;border:1px solid var(--border);background:#1f2a44;color:#fff;font-weight:900;cursor:pointer;width:100%}
.btn.primary{background:linear-gradient(135deg,#7c5cff,#22d3ee)}

.kpis{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.kpi{border:1px solid var(--border);border-radius:14px;padding:10px;background:rgba(255,255,255,.03)}

.note{
margin-top:12px;
padding:12px;
border-radius:14px;
border:1px solid var(--border);
background:rgba(245,158,11,.1);
border-right:4px solid rgba(245,158,11,.6);
}

/* BOTTOM NAV */
.bottomNav{
position:fixed;bottom:0;left:0;right:0;height:64px;
background:#0e1730;border-top:1px solid var(--border);
display:flex;justify-content:space-around;align-items:center;
z-index:100;
}
.bottomNav a{text-decoration:none;color:#fff;font-size:11px;text-align:center}

/* RESPONSIVE */
@media(max-width:900px){
.container{grid-template-columns:1fr}
.kpis{grid-template-columns:1fr}
}
</style>
</head>

<body>

<!-- MOBILE MENU -->
<div class="mobileMenu" id="mobileMenu">
  <a href="wallet.html">Wallet</a>
  <a href="trade.html">Trade</a>
  <a href="gamecenter.html">Game Center</a>
  <a href="profile.html">Profile</a>
  <a href="settings.html">Settings</a>
</div>

<header>
  <div class="nav">
    <a class="brand" href="#"><div class="logo"></div> AI MARKETING</a>
    <button class="menuBtn" onclick="toggleMenu()">‚ò∞</button>
  </div>
</header>

<div class="container">

<!-- LEFT -->
<div class="card">
  <div class="tvhead">
    <span>Live Chart</span>
    <span class="pill" id="symbolPill">BINANCE:BTCUSDT</span>
  </div>
  <div class="tvbox">
    <div class="tradingview-widget-container tvH1">
      <div id="tv_chart" class="tvH1"></div>
    </div>
  </div>
</div>

<!-- RIGHT -->
<div class="card">
  <h1>Auto Trade Plans</h1>
  <div class="sub">Your funds will be used in automated trading (locked)</div>

  <div class="kpis">
    <div class="kpi">Available<br><b id="availBal">$1000.00</b></div>
    <div class="kpi">Locked<br><b id="lockedBal">$0.00</b></div>
  </div>

  <div style="margin-top:12px">
    <label>Amount (USDT)</label>
    <input class="field" id="investAmount" type="number" min="10" value="100">
  </div>

  <div style="margin-top:10px">
    <label>Plan</label>
    <select class="field" id="investDays">
      <option value="15">15 Days (1.3% - 1.6% daily)</option>
      <option value="30">30 Days (1.5% - 2% daily)</option>
    </select>
  </div>

  <div style="margin-top:12px">
    <button class="btn primary" onclick="createInvestment()">üöÄ Start Auto Trade</button>
  </div>

  <div class="note">
    Your USDT will be locked during the trading period.  
    Profit is generated from automated and manual trading strategies.
  </div>

  <h1 style="margin-top:18px">Active Auto Trades</h1>
  <div id="investList" class="sub">No active trades.</div>
</div>

</div>

<!-- BOTTOM NAV -->
<div class="bottomNav">
  <a href="wallet.html">üí∞<br>Wallet</a>
  <a href="trade.html">üìä<br>Trade</a>
  <a href="gamecenter.html">üéÆ<br>Games</a>
  <a href="profile.html">üë§<br>Profile</a>
  <a href="settings.html">‚öôÔ∏è<br>Settings</a>
</div>

<script src="https://s3.tradingview.com/tv.js"></script>

<script>
function toggleMenu(){
  document.getElementById("mobileMenu").classList.toggle("show");
}

// ===== TradingView =====
function loadTV(sym){
  document.getElementById("symbolPill").textContent = "BINANCE:"+sym;
  document.getElementById("tv_chart").innerHTML="";
  new TradingView.widget({
    autosize:true,
    symbol:"BINANCE:"+sym,
    interval:"60",
    timezone:"Etc/UTC",
    theme:"dark",
    container_id:"tv_chart"
  });
}

// ===== AUTO TRADE SYSTEM (DEMO) =====
let availableBalance = 1000;
let lockedBalance = 0;
let investments = [];

function money(x){ return "$" + (Number(x)||0).toFixed(2); }

function renderInvest(){
  availBal.textContent = money(availableBalance);
  lockedBal.textContent = money(lockedBalance);

  const box = document.getElementById("investList");
  if(investments.length === 0){
    box.innerHTML = "<div class='sub'>No active auto trades.</div>";
    return;
  }

  box.innerHTML = "";
  investments.forEach((inv, i)=>{
    const daysLeft = Math.max(0, Math.ceil((inv.end - Date.now()) / 86400000));
    const done = Date.now() >= inv.end;
    const profit = inv.amount * inv.daily * inv.days;

    const div = document.createElement("div");
    div.className = "kpi";
    div.style.marginTop = "10px";
    div.innerHTML = `
      <b>Auto Trade #${i+1}</b><br>
      Amount: ${money(inv.amount)}<br>
      Daily: ${(inv.daily*100).toFixed(2)}%<br>
      Days left: ${daysLeft}<br>
      Expected Profit: ${money(profit)}<br>
      ${done ? `<button class="btn" onclick="finishInvestment(${i})">Claim</button>` : `<span class="sub">Running üîÑ</span>`}
    `;
    box.appendChild(div);
  });
}

function createInvestment(){
  const amt = Number(investAmount.value);
  const days = Number(investDays.value);

  if(!amt || amt < 10) return alert("Minimum 10 USDT");
  if(amt > availableBalance) return alert("Not enough balance");

  let daily;
  if(days == 15){
    daily = 0.013 + Math.random() * (0.016 - 0.013);
  }else{
    daily = 0.015 + Math.random() * (0.02 - 0.015);
  }

  availableBalance -= amt;
  lockedBalance += amt;

  investments.push({
    amount: amt,
    days: days,
    daily: daily,
    start: Date.now(),
    end: Date.now() + days * 86400000
  });

  renderInvest();
  alert("Auto Trade started and funds locked üîí");
}

function finishInvestment(i){
  const inv = investments[i];
  if(Date.now() < inv.end) return;

  const profit = inv.amount * inv.daily * inv.days;
  const total = inv.amount + profit;

  lockedBalance -= inv.amount;
  availableBalance += total;

  investments.splice(i,1);
  renderInvest();

  alert("Auto Trade finished! You received " + money(total));
}

// INIT
window.onload=()=>{
  loadTV("BTCUSDT");
  renderInvest();
}
</script>

</body>
</html>
